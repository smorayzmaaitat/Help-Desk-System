import{H as c,r as p,e as h,w as g,o as l,b as e,j as x,D as m,c as d,G as f,F as y,t as i,g as _,n as w}from"./app-Bshtgp-Q.js";import{A as b}from"./AuthenticatedLayout-PWHvvRgb.js";import{d as v}from"./theme-bootstrap-C8fiAdlP.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-C-oCVjLM.js";const U={name:"UsersManagement",components:{AuthenticatedLayout:b},props:{users:{type:Array,default:()=>[]},flash:{type:Object,default:()=>({})}},mounted(){console.log("----------",this.flash.success);const a=v.useToast();this.flash.success&&a.success(this.flash.success,{position:"top-right",duration:3e3})},data(){return{searchQuery:"",selectedUser:null,isManageModalOpen:!1}},computed:{filteredUsers(){if(!this.searchQuery)return this.users;const a=this.searchQuery.toLowerCase();return this.users.filter(t=>t.name.toLowerCase().includes(a)||t.email.toLowerCase().includes(a))}},methods:{openManageModal(a){this.selectedUser=a,this.isManageModalOpen=!0},closeManageModal(){this.selectedUser=null,this.isManageModalOpen=!1},handleManageUser(a){a==="edit"&&c.visit(`edituser/${this.selectedUser.id}`,{method:"get",data:{userData:this.selectedUser}}),a==="delete"?c.visit(`delete/${this.selectedUser.id}`,{method:"put",data:{userData:this.selectedUser}}):(console.log(`Performing ${a} on user:`,this.selectedUser),this.closeManageModal())}}},k={class:"py-12"},C={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},A={class:"mb-6 flex justify-between items-center"},L={class:"relative"},D={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},j={class:"p-6 bg-white border-b border-gray-200"},O={class:"min-w-full divide-y divide-gray-200"},Q={class:"bg-white divide-y divide-gray-200"},B={class:"px-6 py-4 whitespace-nowrap"},E={class:"flex items-center"},F={class:"flex-shrink-0 h-10 w-10"},N={class:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center"},S={class:"text-gray-500 font-medium"},V={class:"ml-4"},T={class:"text-sm font-medium text-gray-900"},q={class:"px-6 py-4 whitespace-nowrap"},z={class:"text-sm text-gray-900"},G={class:"px-6 py-4 whitespace-nowrap"},H={class:"text-sm text-gray-900"},P={class:"px-6 py-4 whitespace-nowrap"},R={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},I=["onClick"],J={key:0,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center"},K={class:"bg-white rounded-lg p-6 max-w-md w-full"},W={class:"text-xl font-semibold mb-4"},X={class:"space-y-4"};function Y(a,t,Z,$,n,o){const u=p("AuthenticatedLayout");return l(),h(u,null,{default:g(()=>{var r;return[e("div",k,[e("div",C,[e("div",A,[t[4]||(t[4]=e("h1",{class:"text-2xl font-semibold text-gray-900"}," Users Management ",-1)),e("div",L,[x(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>n.searchQuery=s),placeholder:"Search users...",class:"w-64 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[m,n.searchQuery]])])]),e("div",D,[e("div",j,[e("table",O,[t[5]||(t[5]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Email "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Role "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Q,[(l(!0),d(y,null,f(o.filteredUsers,s=>(l(),d("tr",{key:s.id},[e("td",B,[e("div",E,[e("div",F,[e("div",N,[e("span",S,i(s.name.charAt(0)),1)])]),e("div",V,[e("div",T,i(s.name),1)])])]),e("td",q,[e("div",z,i(s.email),1)]),e("td",G,[e("div",H,i(s.role),1)]),e("td",P,[e("span",{class:w(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-green-100 text-green-800":s.status==="active","bg-red-100 text-red-800":s.status==="inactive"}])},i(s.status),3)]),e("td",R,[e("button",{onClick:ee=>o.openManageModal(s),class:"text-indigo-600 hover:text-indigo-900 bg-indigo-100 px-3 py-1 rounded-md"}," Manage ",8,I)])]))),128))])])])]),n.isManageModalOpen?(l(),d("div",J,[e("div",K,[e("h2",W,"Manage User: "+i((r=n.selectedUser)==null?void 0:r.name),1),e("div",X,[e("button",{onClick:t[1]||(t[1]=s=>o.handleManageUser("edit")),class:"w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Edit User "),e("button",{onClick:t[2]||(t[2]=s=>o.handleManageUser("delete")),class:"w-full bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"}," Delete User "),e("button",{onClick:t[3]||(t[3]=(...s)=>o.closeManageModal&&o.closeManageModal(...s)),class:"w-full bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400"}," Cancel ")])])])):_("",!0)])])]}),_:1})}const ne=M(U,[["render",Y]]);export{ne as default};
